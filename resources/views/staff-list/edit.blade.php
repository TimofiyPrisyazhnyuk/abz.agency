@extends('layouts.app_staff')@push('css')    {{-- Bootstrap style--}}    <link href="{{ asset('css/bootstrap.min.css') }}" rel="stylesheet" type="text/css">    <link href="{{ asset('css/font-awesome.css') }}" rel="stylesheet" type="text/css">    {{-- Custom style --}}    <link href="{{ asset('css/style.css') }}" rel="stylesheet" type="text/css">    <link href="{{ asset('css/appStaffTreeIndex.css') }}" rel="stylesheet" type="text/css">    <link href="{{ asset('css/appListUsers.css') }}" rel="stylesheet" type="text/css">@endpush@section('header')    <header id="header_wrapper">        <div class="container">            <div class="header_box">                <nav class="navbar navbar-inverse" role="navigation">                    <div class="navbar-header">                        <div class="logo">                            <a href="{{ route('welcome') }}">                                <img id="logo-abz" src="{{ asset('img/abz.agency.jpg') }}" alt="logo">                            </a>                        </div>                        <button type="button" id="nav-toggle" class="navbar-toggle" data-toggle="collapse"                                data-target="#main-nav"><span class="sr-only">Toggle navigation</span> <span                                    class="icon-bar"></span> <span class="icon-bar"></span> <span                                    class="icon-bar"></span>                        </button>                    </div>                    <div id="main-nav" class="collapse navbar-collapse navStyle" style="visibility: visible">                        <ul class="nav navbar-nav" id="mainNav">                            @if (Route::has('login'))                                @auth                                    <li><a class="scroll-link" href="{{ route('staff_list.index') }}">Home</a></li>                                @else                                    <li><a class="scroll-link" href="{{ route('login') }}">Login</a></li>                                    <li><a class="scroll-link" href="{{ route('register') }}">Register</a></li>                                @endauth                            @endif                        </ul>                    </div>                </nav>            </div>        </div>    </header>@endsection@section('content')    <div id="staff_list">        <div class="title">            <div class="alert">                <h2>Edit User Information</h2>            </div>        </div>        <div class="container">            <div class="app-users-list">                <div class="row">                    <div class="col-lg-12">                        <div class="col-sm-6 col-md-4 col-md-offset-2 text-center">                            @if($user->image)                                <img src="{{ asset('/image_upload/' . $user->image) }}" class="app-image-show"                                     alt="user">                            @else                                <img src="{{ asset('/img/default.png')}}" class="app-image-show" alt="user">                            @endif                        </div>                        <div class="col-sm-6 col-md-3">                            <h3 class="app-margin-bottom">Upload image</h3>                            {{-- Form update user--}}                            <form action="{{ route('image.store') }}" method="post" enctype="multipart/form-data">                                @csrf                                <input type="hidden" name="user_id" value="{{ $user->id }}">                                <div class="custom-file">                                    <input type="file" name="image" id="customFile" accept="image/*">                                    @if(file_exists('image_upload/' . $user->image) && $user->image != null)                                        <div class="app-edit-user">                                            <a href="#" onclick="document.getElementById('imageDelete').submit();"                                               class="btn btn-danger btn-md">Remove                                            </a>                                            {{--<a href="{{ route('image.destroy',$user->id) }}"--}}                                            {{--class="btn btn-danger btn-md ">Remove--}}                                            {{--</a>--}}                                            <button type="submit" class="btn btn-success btn-md pull-right">Upload                                            </button>                                        </div>                                    @else                                        <div class="app-edit-user">                                            <button type="submit" class="btn btn-success btn-md pull-right">Upload                                            </button>                                        </div>                                </div>                                @endif                            </form>                            <form id="imageDelete" action="{{ route('image.destroy' , $user->id)}}" method="POST">                                @method('DELETE')                                @csrf                            </form>                        </div>                    </div>                </div>                <div class="row">                    <div class="col-lg-12">                        <form method="POST" action="{{ route('staff_list.update', $user->id) }}" aria-label="Update">                            @csrf                            @method('PUT')                            <input type="hidden" name="id" value="{{ $user->id }}">                            <div class="row">                                <div class="col-md-4 col-md-offset-2 col-xs-12">                                    <div class="form-group">                                        <label for="surname" class="col-form-label">{{ __('Surname') }}</label>                                        <input id="surname" type="text"                                               class="form-control{{ $errors->has('surname') ? ' is-invalid' : '' }}"                                               name="surname" value="{{ $user->surname }}" required autofocus>                                        @if ($errors->has('surname'))                                            <span class="invalid-feedback" role="alert">                                                <strong>{{ $errors->first('surname') }}</strong>                                            </span>                                        @endif                                    </div>                                    <div class="form-group ">                                        <label for="first_name" class="col-form-label">{{ __('First name') }}</label>                                        <input id="first_name" type="text"                                               class="form-control{{ $errors->has('first_name') ? ' is-invalid' : '' }}"                                               name="first_name" value="{{ $user->first_name }}" required>                                        @if ($errors->has('first_name'))                                            <span class="invalid-feedback" role="alert">                                               <strong>{{ $errors->first('first_name') }}</strong>                                            </span>                                        @endif                                    </div>                                    <div class="form-group ">                                        <label for="patronymic"                                               class=" col-form-label">{{ __('Patronymic') }}</label>                                        <input id="patronymic" type="text"                                               class="form-control{{ $errors->has('patronymic') ? ' is-invalid' : '' }}"                                               name="patronymic" value="{{ $user->patronymic }}" required>                                        @if ($errors->has('patronymic'))                                            <span class="invalid-feedback" role="alert">                                                 <strong>{{ $errors->first('patronymic') }}</strong>                                            </span>                                        @endif                                    </div>                                    <div class="form-group">                                        <label for="email" class="col-form-label">{{ __('E-Mail Address') }}</label>                                        <input id="email" type="email"                                               class="form-control {{ $errors->has('email') ? ' is-invalid' : '' }}"                                               name="email" value="{{ $user->email }}" required>                                        @if ($errors->has('email'))                                            <span class="invalid-feedback" role="alert">                                                <strong>{{ $errors->first('email') }}</strong>                                            </span>                                        @endif                                    </div>                                </div>                                <div class="col-md-4 col-xs-12">                                    <div class="form-group">                                        <div class="row">                                            <div class="col-md-6">                                                <label for="position_id"                                                       class="col-form-label">{{ __('Position') }}</label>                                                <select class="form-control {{ $errors->has('position_id') ? ' is-invalid' : '' }}"                                                        name="position_id" id="position_id">                                                    @foreach($positions as $value)                                                        @if($value->id == $user->position_id)                                                            <option selected                                                                    value="{{ $value->id }}">{{ $value->position_name }}</option>                                                        @else                                                            <option value="{{ $value->id }}">{{ $value->position_name }}</option>                                                        @endif                                                    @endforeach                                                </select>                                                @if ($errors->has('position_id'))                                                    <span class="invalid-feedback" role="alert">                                                <strong>{{ $errors->first('position_id') }}</strong>                                            </span>                                                @endif                                            </div>                                            <div class="col-md-6">                                                <label for="boss_id" class="col-form-label">{{ __('Boss') }}</label>                                                <select class="form-control {{ $errors->has('boss_id') ? ' is-invalid' : '' }}"                                                        name="boss_id" id="boss_id">                                                    @foreach($boss as $value)                                                        <option                                                                @if($value->id == $user->parentTree->parentUsers->id)                                                                selected                                                                @endif                                                                value="{{ $value->id }}">{{ strlen($value->fullName) > 17 ?                                                             substr($value->fullName,0,14)."..." : $value->fullName }}                                                        </option>                                                    @endforeach                                                </select>                                                @if ($errors->has('position_id'))                                                    <span class="invalid-feedback" role="alert">                                                <strong>{{ $errors->first('position_id') }}</strong>                                            </span>                                                @endif                                            </div>                                        </div>                                    </div>                                    <div class="form-group">                                        <label for="amount_of_wages"                                               class="col-form-label">{{ __('Amount of wages - "UAN"') }}</label>                                        <input id="amount_of_wages" type="number" min="3800" max="400000" step="0.01"                                               class="form-control{{ $errors->has('amount_of_wages') ? ' is-invalid' : '' }}"                                               name="amount_of_wages" value="{{ $user->amount_of_wages }}" required>                                        @if ($errors->has('amount_of_wages'))                                            <span class="invalid-feedback" role="alert">                                                 <strong>{{ $errors->first('amount_of_wages') }}</strong>                                            </span>                                        @endif                                    </div>                                    <div class="form-group ">                                        <label for="password"                                               class=" col-form-label">{{ __('Password') }}</label>                                        <input id="password" type="password"                                               class="form-control{{ $errors->has('password') ? ' is-invalid' : '' }}"                                               name="password" required>                                        @if ($errors->has('password'))                                            <span class="invalid-feedback" role="alert">                                        <strong>{{ $errors->first('password') }}</strong>                                    </span>                                        @endif                                    </div>                                    <div class="form-group">                                        <label for="password-confirm"                                               class="col-form-label">{{ __('Confirm Password') }}</label>                                        <input id="password-confirm" type="password" class="form-control"                                               name="password_confirmation" required>                                    </div>                                    <div class="form-group pull-right mb-0">                                        <button type="submit" class="btn btn-warning">                                            Update                                        </button>                                    </div>                                </div>                            </div>                        </form>                    </div>                </div>            </div>        </div>    </div>@endsection@section('footer')    <footer class="footer_wrapper" id="contact">        <div class="container">            <div class="footer_bottom">            <span>Copyright Â© 2014, Template by                <a href="http://abz.agency">abz.agency.com</a>.            </span>            </div>        </div>    </footer>@endsection@push('scripts')    {{-- Jquery + Bootstrp--}}    <script type="text/javascript" src="{{ asset('js/jquery-1.11.0.min.js') }}"></script>    <script type="text/javascript" src="{{ asset('js/bootstrap.min.js') }}"></script>    {{-- Custom style --}}    <script type="text/javascript" src="{{ asset('js/userUpdate.js') }}"></script>@endpush