$.ajaxSetup({    headers: {        'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')    }});$(document).ready(function () {    const dataTable = $('#myTable')        .on('preXhr.dt', function (e, settings, data) {        }).DataTable({            serverSide: true,            pageLength: 10,            scrollX: true,            scrollY: false,            autoWidth: false,            ajax: {                url: '/staff_list',                type: 'POST',            },            columns: [                {                    title: 'ID',                    data: 'id',                    className: 'text-center',                },                {                    title: 'Image',                    className: 'text-center',                    render: function (s, d, item) {                        if (item.image) {                            return '<img src="image_upload/' + item.image + '" class="app-list-image" alt="user" >';                        } else {                            return '<img src="/img/default.png" class="app-list-image" alt="user" >';                        }                    }                },                {                    title: 'Surname',                    data: 'surname',                    className: 'text-center',                },                {                    title: 'First name',                    data: 'first_name',                    className: 'text-center',                },                {                    title: 'Patronymic',                    data: 'patronymic',                    className: 'text-center',                },                {                    title: 'Email',                    data: 'email',                    className: 'text-center',                },                {                    title: 'Date engagement',                    data: 'date_engagement',                    className: 'text-center',                },                {                    title: 'Amount of wages',                    data: 'amount_of_wages',                    className: 'text-center',                },                {                    title: 'Position',                    className: 'text-center',                    data: 'position_id',                },                {                    title: 'Control',                    className: 'text-center',                    render: function (s, d, item) {                        return ' <a href="/staff_list/' + item.id + '" class="btn btn-info btn-xs"><i class="fa fa-eye fa-2x"></i></a>' +                            ' <a href="/staff_list/' + item.id + '/edit" class="btn btn-warning btn-xs" ><i class="fa fa-edit fa-2x"></i></a>' +                            '<a href="#" class="btn  btn-xs">' +                            '<form id="userDelete"  action="/staff_list/' + item.id + '" method="POST">' +                            '   <input type="hidden" name="_method" value="delete" />' +                            '   <input type="hidden" name="_token" value="' + document.getElementsByName('csrf-token')[0].content + '">' +                            '   <button type="submit" class="btn btn-danger btn-xs"><i class="fa fa-close fa-2x"></i></button>' +                            '</form>'+                            '</a>'                    }                },            ],        });    $(window).resize(function () {        dataTable.ajax.reload();    });})